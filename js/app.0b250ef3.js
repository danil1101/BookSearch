(function(t){function e(e){for(var s,i,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],s=!0,l=1;l<o.length;l++){var r=o[l];0!==a[r]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=o[0]))}return t}var s={},a={app:0},n=[];function i(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=s,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(o,s,function(e){return t[e]}.bind(null,s));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},1:function(t,e){},"1e72":function(t,e,o){"use strict";o("8d3b")},"27fe":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var s=o("2b0e"),a=o("28dd"),n=(o("f9e3"),o("2dd8"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("app-header"),e("div",{staticClass:"container-lg cotainer-app"},[e("div",{staticClass:"search-page"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.books.length,expression:"!books.length"}],staticClass:"subtitle"},[t._v("Найдите книгу, которая вам нравится.")]),e("nav-bar",{attrs:{userInput:t.input},on:{changedValue:function(e){t.input=e},submitValue:t.searchBooks,inputCleared:function(e){t.input=e}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.books.length||t.textMore,expression:"books.length || textMore"}],staticClass:"book__more"},[t._v('Результаты по запросу "'+t._s(t.inputSearch)+'"...\n\t\t\t')]),e("div",{staticClass:"selects__form"},[t.books.length?e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedItem,expression:"selectedItem"}],staticClass:"form-select",attrs:{name:"type"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedItem=e.target.multiple?o:o[0]},t.updateOption]}},[e("option",{attrs:{value:"all",disabled:"",hidden:"",selected:""}},[t._v("Тип печати")]),e("option",{attrs:{value:"all",selected:""}},[t._v("Все")]),e("option",{attrs:{value:"books"}},[t._v("Книги")]),e("option",{attrs:{value:"magazines"}},[t._v("Журналы")])]):t._e(),t.books.length?e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSort,expression:"selectedSort"}],staticClass:"form-select",attrs:{name:"cort"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedSort=e.target.multiple?o:o[0]},t.updateSort]}},[e("option",{attrs:{value:"relevance",disabled:"",hidden:"",selected:""}},[t._v("Сортировка")]),e("option",{attrs:{value:"relevance"}},[t._v("По релевантности")]),e("option",{attrs:{value:"newest"}},[t._v("От новых к старым")])]):t._e(),t.books.length?e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"form-select",attrs:{name:"filter"},on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?o:o[0]},t.updateFilter]}},[e("option",{attrs:{value:"partial",disabled:"",hidden:"",selected:""}},[t._v("Фильтрация")]),e("option",{attrs:{value:"partial"}},[t._v("По умолчанию")]),e("option",{attrs:{value:"free-ebooks"}},[t._v("Полный обзор")]),e("option",{attrs:{value:"ebooks"}},[t._v("Элекронные книги")])]):t._e()]),e("book-results",{attrs:{input:t.input,books:t.books}})],1),e("main")])],1)}),i=[],l=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar"},[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"input-field"},[e("input",{staticClass:"form-control",attrs:{type:"search",autocomplete:"off"},domProps:{value:t.userInput},on:{input:t.valueChange,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitValue.apply(null,arguments)}}}),e("label",{staticClass:"label-icon",attrs:{for:"search"},on:{click:t.submitValue}},[e("i",{staticClass:"material-icons"},[t._v("search")])])])])])},r=[],c={name:"nav-bar",props:["userInput"],data:function(){return{input:""}},methods:{valueChange:function(t){this.input=t.target.value,this.$emit("changedValue",this.input)},submitValue:function(t){""!=this.input?this.$emit("submitValue"):M.toast({html:"No search value entered"})},clearInput:function(t){this.input="",this.$emit("inputCleared",this.input)}}},u=c,d=(o("ee3b"),o("2877")),p=Object(d["a"])(u,l,r,!1,null,null,null),f=p.exports,v=(o("a481"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"book-results"},[e("div",{staticClass:"cards"},t._l(t.books,(function(s){return e("div",{key:s.id,staticClass:"cards__item card",attrs:{id:s.id}},[e("div",{staticClass:"cards__image"},[s.volumeInfo.imageLinks?e("img",{staticClass:"activator",attrs:{src:s.volumeInfo.imageLinks.thumbnail+"&zoom=1"}}):e("img",{attrs:{src:o("58f1")}})]),e("div",{staticClass:"cards__content"},[s.volumeInfo.title?e("p",{staticClass:"cards__title font-weight-bold"},[t._v(t._s(s.volumeInfo.title))]):t._e(),s.volumeInfo.authors?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Автор")]),t._v(": "+t._s(s.volumeInfo.authors[0])+"\n\t\t\t\t")]):t._e(),s.volumeInfo.publishedDate?e("p",[t._m(0,!0),t._v(" "+t._s(s.volumeInfo.publishedDate.replace(/\-/g,"."))+"\n\t\t\t\t")]):t._e(),e("p",{staticStyle:{flex:"1 1 auto"}}),e("button",{staticClass:"card__more font-weight-bold btn btn-primary",on:{click:function(e){return e.stopPropagation(),t.showModal(s.id)}}},[t._v("\n\t\t\t\t\tПодробнее\n\t\t\t\t")]),e("modal",{ref:"modal_id_"+s.id,refInFor:!0,attrs:{book:s},on:{close:t.closeModal}})],1)])})),0)])}),m=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"font-weight-bold"},[t._v("Дата\n\t\t\t\t\t\tпубликации: "),e("br")])}],b=function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"modal-backdrop",staticStyle:{opacity:"1"}},[e("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[e("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[e("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close"},on:{click:t.close}})]),e("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",(function(){return[e("div",{staticClass:"modal-body__content"},[t.book.volumeInfo.title?e("p",{staticClass:"cards__title font-weight-bold"},[t._v(t._s(t.book.volumeInfo.title)+"\n\t\t\t\t\t")]):t._e(),t.book.volumeInfo.authors?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Автор")]),t._v(": "+t._s(t.book.volumeInfo.authors[0])+"\n\t\t\t\t\t")]):t._e(),e("p",{staticClass:"text-card-text"},[e("span",{staticClass:"font-weight-bold"},[t._v("Издатель:")]),t._v("\n\t\t\t\t\t\t"+t._s(t.book.volumeInfo.publisher)+"\n\t\t\t\t\t")]),t.book.volumeInfo.publishedDate?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Дата\n\t\t\t\t\t\t\tпубликации: ")]),t._v(" "+t._s(t.book.volumeInfo.publishedDate.replace(/\-/g,"."))+"\n\t\t\t\t\t")]):t._e(),t.book.volumeInfo.description?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Описание: ")]),t._v(" "+t._s(t.book.volumeInfo.description)+"\n\t\t\t\t\t")]):t._e(),e("p",{staticStyle:{flex:"1 1 auto"}}),e("div",{staticClass:"modal-body__btn"},[e("a",{staticClass:"btn btn-primary-modal",attrs:{href:t.book.accessInfo.webReaderLink,target:"_blank"}},[t._v("Читать\n\t\t\t\t\t\t\tкнигу")]),e("a",{staticClass:"btn btn-primary-modal",attrs:{href:t.book.saleInfo.buyLink,target:"_blank"}},[t._v("Купить книгу")])])]),e("div",{staticClass:"modal-body__image"},[t.book.volumeInfo.imageLinks?e("img",{staticClass:"activator",attrs:{src:t.book.volumeInfo.imageLinks.thumbnail}}):e("img",{attrs:{src:o("58f1")}}),t.book.volumeInfo.pageCount?e("span",[t._v(t._s(t.book.volumeInfo.pageCount)+" страниц")]):t._e()])]}))],2)])]):t._e()},h=[],_={name:"modal",props:["book"],data:function(){return{isVisible:!1}},methods:{show:function(){this.isVisible=!0},close:function(){this.$emit("close"),this.isVisible=!1}}},g=_,k=(o("b17b"),Object(d["a"])(g,b,h,!1,null,null,null)),C=k.exports,y={name:"book-results",components:{modal:C},props:["input","books"],data:function(){return{isModalVisible:!1}},beforeRouteEnter:function(){document.documentElement.classList.remove("open-modal")},methods:{showModal:function(t){var e=this.$refs["modal_id_"+t];e&&e[0].show(),document.documentElement.classList.add("open-modal")},closeModal:function(){this.isModalVisible=!1,document.documentElement.classList.remove("open-modal")}}},w=y,I=(o("8b32"),Object(d["a"])(w,v,m,!1,null,null,null)),x=I.exports,S=function(){var t=this;t._self._c;return t._m(0)},O=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"container-lg"},[e("div",{staticClass:"header__row"},[e("a",{staticClass:"header__logo",attrs:{href:"/"}},[t._v("Books Search")]),e("div",{staticClass:"header__list"},[e("a",{staticClass:"header__item",attrs:{href:"https://github.com/danil1101/BookSearch"}},[t._v("GitHub")])])])])])}],j={name:"app-header",data:function(){return{}}},V=j,B=(o("8505"),Object(d["a"])(V,S,O,!1,null,"2e5824a9",null)),T=B.exports,F={components:{AppHeader:T,NavBar:f,BookResults:x},props:["userInput"],data:function(){return{input:"",books:[],loading:!1,isTyping:!1,title:"",inputSearch:"",textMore:!1,selectedItem:"all",selectedFilter:"partial",selectedSort:"relevance"}},watch:{input:function(){this.isTyping=!0;var t=this;setTimeout((function(){t.isTyping=!1}),500)}},methods:{updateOption:function(t){this.selectedItem=t.target.value,this.searchBooks()},updateSort:function(t){this.selectedSort=t.target.value,this.searchBooks()},updateFilter:function(t){this.selectedFilter=t.target.value,this.searchBooks()},searchBooks:function(t){var e=this;this.loading=!0;var o=this.input,s="https://www.googleapis.com/books/v1/volumes?q=".concat(o,"&maxResults=40&filter=").concat(this.selectedFilter,"&printType=").concat(this.selectedItem,"&orderBy=").concat(this.selectedSort);this.$http.get(s).then((function(t){e.books=t.body.items,e.inputSearch=e.input})).then((function(){var t=document.querySelectorAll(".carousel");M.Carousel.init(t);e.loading=!1,e.results=!0})).catch((function(t){e.loading=!1,console.log(t),M.toast({html:"Oops! Something went wrong!"})}))}}},L=F,P=(o("1e72"),Object(d["a"])(L,n,i,!1,null,null,null)),D=P.exports;s["a"].use(a["a"]),s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(D)}}).$mount("#app")},"58f1":function(t,e,o){t.exports=o.p+"img/no-img.34c75f05.png"},8505:function(t,e,o){"use strict";o("c95e")},"8b32":function(t,e,o){"use strict";o("c6fd")},"8d3b":function(t,e,o){},b17b:function(t,e,o){"use strict";o("27fe")},c6fd:function(t,e,o){},c95e:function(t,e,o){},ee3b:function(t,e,o){"use strict";o("effb")},effb:function(t,e,o){}});
//# sourceMappingURL=app.0b250ef3.js.map