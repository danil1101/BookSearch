(function(t){function e(e){for(var o,i,l=e[0],r=e[1],c=e[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],o=!0,l=1;l<s.length;l++){var r=s[l];0!==n[r]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=s[0]))}return t}var o={},n={app:0},a=[];function i(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=o,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=r;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},1622:function(t,e,s){},1675:function(t,e,s){"use strict";s("48d2")},"1a62":function(t,e,s){"use strict";s("90cc")},"2b16":function(t,e,s){"use strict";s("c5d7")},"354f":function(t,e,s){},"3ccf":function(t,e,s){},"48d2":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var o=s("2b0e"),n=s("28dd"),a=(s("f9e3"),s("2dd8"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[e("app-header"),e("div",{staticClass:"container-lg cotainer-app"},[e("div",{staticClass:"search-page"},[e("nav-bar",{attrs:{userInput:t.input},on:{changedValue:function(e){t.input=e},submitValue:t.searchBooks,inputCleared:function(e){t.input=e}}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.books.length||t.textMore,expression:"books.length || textMore"}],staticClass:"book__more"},[t._v('По запросу "'+t._s(t.input)+'" было найдено '+t._s(t.books.length)+" книг\n\t\t\t")]),e("div",{staticClass:"selects__form"},[t.books.length?e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedItem,expression:"selectedItem"}],staticClass:"form-select",attrs:{name:"type"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedItem=e.target.multiple?s:s[0]},t.updateOption]}},[e("option",{attrs:{value:"all",disabled:"",hidden:"",selected:""}},[t._v("Тип печати")]),e("option",{attrs:{value:"all",selected:""}},[t._v("Все")]),e("option",{attrs:{value:"books"}},[t._v("Книги")]),e("option",{attrs:{value:"magazines"}},[t._v("Журналы")])]):t._e(),t.books.length?e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilter,expression:"selectedFilter"}],staticClass:"form-select",attrs:{name:"filter"},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedFilter=e.target.multiple?s:s[0]},t.updateFilter]}},[e("option",{attrs:{value:"relevance",disabled:"",hidden:"",selected:""}},[t._v("Сортировка")]),e("option",{attrs:{value:"relevance"}},[t._v("По умолчанию")]),e("option",{attrs:{value:"newest"}},[t._v("Недавно добавленные")])]):t._e()]),e("book-results",{attrs:{input:t.input,books:t.books}})],1),e("main")])],1)}),i=[],l=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar"},[e("form",{on:{submit:function(t){t.preventDefault()}}},[e("div",{staticClass:"input-field"},[e("input",{staticClass:"form-control",attrs:{type:"search",autocomplete:"off"},domProps:{value:t.userInput},on:{input:t.valueChange,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitValue.apply(null,arguments)}}}),e("label",{staticClass:"label-icon",attrs:{for:"search"},on:{click:t.submitValue}},[e("i",{staticClass:"material-icons"},[t._v("search")])])])])])},r=[],c={name:"nav-bar",props:["userInput"],data:function(){return{input:""}},methods:{valueChange:function(t){this.input=t.target.value,this.$emit("changedValue",this.input)},submitValue:function(t){""!=this.input?this.$emit("submitValue"):M.toast({html:"No search value entered"})},clearInput:function(t){this.input="",this.$emit("inputCleared",this.input)}}},u=c,d=(s("1675"),s("2877")),p=Object(d["a"])(u,l,r,!1,null,null,null),f=p.exports,v=(s("a481"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"book-results"},[e("div",{staticClass:"cards"},t._l(t.books,(function(o){return e("div",{key:o.id,staticClass:"cards__item card",attrs:{id:o.id}},[e("div",{staticClass:"cards__image"},[o.volumeInfo.imageLinks?e("img",{staticClass:"activator",attrs:{src:o.volumeInfo.imageLinks.thumbnail}}):e("img",{attrs:{src:s("58f1")}})]),e("div",{staticClass:"cards__content"},[o.volumeInfo.title?e("p",{staticClass:"cards__title font-weight-bold"},[t._v(t._s(o.volumeInfo.title))]):t._e(),o.volumeInfo.authors?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Автор")]),t._v(": "+t._s(o.volumeInfo.authors[0])+"\n\t\t\t\t")]):t._e(),o.volumeInfo.publishedDate?e("p",{staticStyle:{flex:"1 1 auto"}},[t._m(0,!0),t._v(" "+t._s(o.volumeInfo.publishedDate.replace(/\-/g,"."))+"\n\t\t\t\t")]):t._e(),e("button",{staticClass:"card__more font-weight-bold btn btn-primary",on:{click:function(e){return e.stopPropagation(),t.showModal(o.id)}}},[t._v("\n\t\t\t\t\tПодробнее\n\t\t\t\t")]),e("modal",{ref:"modal_id_"+o.id,refInFor:!0,attrs:{book:o},on:{close:t.closeModal}})],1)])})),0)])}),m=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"font-weight-bold"},[t._v("Дата\n\t\t\t\t\t\tпубликации: "),e("br")])}],_=function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"modal-backdrop",staticStyle:{opacity:"1"}},[e("div",{staticClass:"modal",attrs:{role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription"}},[e("header",{staticClass:"modal-header",attrs:{id:"modalTitle"}},[e("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close"},on:{click:t.close}})]),e("section",{staticClass:"modal-body",attrs:{id:"modalDescription"}},[t._t("body",(function(){return[e("div",{staticClass:"modal-body__image"},[t.book.volumeInfo.imageLinks?e("img",{staticClass:"activator",attrs:{src:t.book.volumeInfo.imageLinks.thumbnail}}):e("img",{attrs:{src:s("58f1")}})]),e("div",{staticClass:"modal-body__content"},[t.book.volumeInfo.title?e("p",{staticClass:"cards__title font-weight-bold"},[t._v(t._s(t.book.volumeInfo.title)+"\n\t\t\t\t\t")]):t._e(),t.book.volumeInfo.authors?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Автор")]),t._v(": "+t._s(t.book.volumeInfo.authors[0])+"\n\t\t\t\t\t")]):t._e(),e("p",{staticClass:"text-card-text"},[e("span",{staticClass:"font-weight-bold"},[t._v("Издатель:")]),t._v("\n\t\t\t\t\t\t"+t._s(t.book.volumeInfo.publisher)+"\n\t\t\t\t\t")]),t.book.volumeInfo.publishedDate?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Дата\n\t\t\t\t\t\t\tпубликации: ")]),t._v(" "+t._s(t.book.volumeInfo.publishedDate.replace(/\-/g,"."))+"\n\t\t\t\t\t")]):t._e(),t.book.volumeInfo.description?e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Описание: ")]),t._v(" "+t._s(t.book.volumeInfo.description)+"\n\t\t\t\t\t")]):t._e(),e("p",[e("span",{staticClass:"font-weight-bold"},[t._v("Количество страниц: ")]),t.book.volumeInfo.pageCount?e("span",[t._v(t._s(t.book.volumeInfo.pageCount))]):e("span",{staticClass:"not-found"},[t._v("Неизвестно")])]),e("div",{staticClass:"modal-body__btn"},[e("a",{staticClass:"btn btn-primary-modal",attrs:{href:t.book.accessInfo.webReaderLink,target:"_blank"}},[t._v("Прочитать\n\t\t\t\t\t\t\tотрывок из книги")]),e("a",{staticClass:"btn btn-primary",attrs:{href:t.book.saleInfo.buyLink,target:"_blank"}},[t._v("Купить эту книгу")])])])]}))],2)])]):t._e()},h=[],b={name:"modal",props:["book"],data:function(){return{isVisible:!1}},methods:{show:function(){this.isVisible=!0},close:function(){this.$emit("close"),this.isVisible=!1}}},g=b,C=(s("5e2f"),Object(d["a"])(g,_,h,!1,null,null,null)),k=C.exports,y={name:"book-results",components:{modal:k},props:["input","books"],data:function(){return{isModalVisible:!1}},beforeRouteEnter:function(){document.documentElement.classList.remove("open-modal")},methods:{showModal:function(t){var e=this.$refs["modal_id_"+t];e&&e[0].show(),document.documentElement.classList.add("open-modal")},closeModal:function(){this.isModalVisible=!1,document.documentElement.classList.remove("open-modal")}}},w=y,I=(s("2b16"),Object(d["a"])(w,v,m,!1,null,null,null)),x=I.exports,O=function(){var t=this;t._self._c;return t._m(0)},j=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("div",{staticClass:"container-lg"},[e("div",{staticClass:"header__row"},[e("a",{staticClass:"header__logo",attrs:{href:"/"}},[t._v("Books Search")]),e("div",{staticClass:"header__list"},[e("a",{staticClass:"header__item",attrs:{href:""}},[t._v("GitHub")]),e("a",{staticClass:"header__item",attrs:{href:""}},[t._v("Поиск")])])])])])}],V={name:"app-header",data:function(){return{}}},S=V,F=(s("1a62"),Object(d["a"])(S,O,j,!1,null,"d2a3df06",null)),T=F.exports,B=function(){var t=this;t._self._c;return t._m(0)},L=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[e("div",{staticClass:"container-lg"},[e("div",{staticClass:"footer__row"},[e("div",{staticClass:"footer__logo"},[t._v("Books Search")]),e("div",{staticClass:"footer__list"},[e("div",{staticClass:"footer__item"},[t._v("GitHub")])])])])])}],P={name:"app-footer",data:function(){return{}}},D=P,$=(s("d862"),Object(d["a"])(D,B,L,!1,null,"5c1e43d0",null)),A=$.exports,E={components:{AppHeader:T,AppFooter:A,NavBar:f,BookResults:x},props:["userInput"],data:function(){return{input:"",books:[],loading:!1,isTyping:!1,title:"",textMore:!1,selectedItem:"all",selectedFilter:"relevance"}},watch:{input:function(){this.isTyping=!0;var t=this;setTimeout((function(){t.isTyping=!1}),500)}},methods:{updateOption:function(t){this.selectedItem=t.target.value,this.searchBooks()},updateFilter:function(t){this.selectedFilter=t.target.value,this.searchBooks()},searchBooks:function(t){var e=this;this.loading=!0;var s=this.input,o="https://www.googleapis.com/books/v1/volumes?q="+s+"&maxResults=40&printType="+this.selectedItem+"&orderBy="+this.selectedFilter;this.$http.get(o).then((function(t){e.books=t.body.items})).then((function(){var t=document.querySelectorAll(".carousel");M.Carousel.init(t);e.loading=!1,e.results=!0,console.log(e.results)})).catch((function(t){e.loading=!1,console.log(t),M.toast({html:"Oops! Something went wrong!"})})),this.textMore=!0}}},N=E,R=(s("9e37"),Object(d["a"])(N,a,i,!1,null,null,null)),H=R.exports;o["a"].use(n["a"]),o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(H)}}).$mount("#app")},"58f1":function(t,e,s){t.exports=s.p+"img/no-img.34c75f05.png"},"5e2f":function(t,e,s){"use strict";s("3ccf")},"90cc":function(t,e,s){},"9e37":function(t,e,s){"use strict";s("1622")},c5d7:function(t,e,s){},d862:function(t,e,s){"use strict";s("354f")}});
//# sourceMappingURL=app.495dc7d1.js.map